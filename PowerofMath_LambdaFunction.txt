#import the JSON utility package
import json
#import the pyton math library
import math

#import the AWS SDK (for python the package name is boto3)
import boto3
#import 2 packages to help us with dates and time formatting
from time import gmtime, strftime

#create a DynamoDB object using the AWS SDK
dynamodb = boto3.resource('dynamodb')
#use the DynamoDB object to select our table
table = dynamodb.Table('PowerofMathDB')
#store the current time in a human readable format in a variable
now = strftime ("%a, %d %b %Y %H:%M:%S +0000", gmtime())

#define the handler function that the lambda service will use as an entry point
def lambda_handler(event, context):

#extract the 2 numbers from the lambda service's event object
    mathResult = math.pow(int(event['base']), int(event['exponent']))

write result and time to the DynamoDB table using the objece we instantiated and save response im a variable
response = table.put_item(
Item={
    'ID': str(mathResult),
    'LatestGreetingTime': now
})

#return a properly formatted JSON object
return {
    'statusCode' : 200,
    'body' : json.dumps('Your result is' + str(mathResult))

}